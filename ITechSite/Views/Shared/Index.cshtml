@*@model IEnumerable<ITechSite.Models.Resource>*@
@model ITechSite.Models.ResourceListFind
@using PagedList.Mvc;

@{
    ViewBag.Title = "Lista zasobów";
}

<h2>Wyszukaj stanowisko lub model</h2>

@Html.Partial("_SelectResources")
<div>
    Zanleziono @Model.Resources.TotalItemCount pozycji. Wyswietlonio stronę @(Model.Resources.PageCount < Model.Resources.PageNumber ? 0 : Model.Resources.PageNumber) z @Model.Resources.PageCount
    @Html.PagedListPager(Model.Resources, page => Url.Action("index", new { page, Find_ResourceType = @Model.Find_ResourceType, WorkProcess = @Model.WorkProcess, Find_Word = @Model.Find_Word, ReturnUrl = @Model.ReturnUrl, FindAction="Page" }))

    @*@Html.PagedListPager(Model.Resources, page => Url.Action("Index", new { page }))*@


</div>

<p>

    @Html.ActionLink("Utwórz nowy", "Create")
</p>
<table class="table">
    <tr>
        <th>
           @Html.DisplayName("Nazwa")
        </th>
        <th>
            @Html.DisplayName("No")
        </th>
        <th>
            @Html.DisplayName("WorkProcess")
            @*@Html.DisplayNameFor(model => model.Resources.WorkProcess)*@
        </th>
        <th>
            @Html.DisplayName("Enabled")
            @*@Html.DisplayNameFor(model => model.Resources.Enabled)*@
        </th>
        <th>
            @Html.DisplayName("Type")
            @*@Html.DisplayNameFor(model => model.Resources.ResourceType.Type)*@
        </th>
         <th>
             @Html.DisplayName("Description")
            @*@Html.DisplayNameFor(model => model.Resources.Description)*@
        </th>       
        <th></th>
    </tr>

@foreach (var item in Model.Resources) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.No)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.WorkProcess)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Enabled)
        </td>
        @*<td>
            @Html.DisplayFor(modelItem => item.Model.Car)
        </td>*@
        @*<td>
            @Html.DisplayFor(modelItem => item.Workstation.WorkstationGroup)
        </td>*@
        <td>
            @Html.DisplayFor(modelItem => item.ResourceType.Type)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.ActionLink("Edytuj", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Szczegóły", "Details", new { id=item.Id }) |
            @Html.ActionLink("Usuń", "Delete", new { id=item.Id })
        </td>
    </tr>
}

</table>

